---
import { fetchAssets } from '@/libs/stores/assets';
import {
  fetchGuests,
  fetchOrganizers,
  fetchStaffsWithoutOrganizer,
} from '@/libs/stores/people';
import { fetchDJSchedules } from '@/libs/stores/schedules';

import BaseLayout from '@/layouts/Base.astro';

import About from '@/components/About.astro';
import Contact from '@/components/Contact.astro';
import Contribute from '@/components/Contribute.astro';
import Guests from '@/components/Guests.astro';
import Hero from '@/components/Hero';
import Staffs from '@/components/Staffs.astro';
import TimeSchedule from '@/components/TimeSchedule.astro';

import '@/styles/global.css';

const assets = await fetchAssets();
const guests = await fetchGuests();
const djSchedules = await fetchDJSchedules();
const organizers = await fetchOrganizers();
const staffs = await fetchStaffsWithoutOrganizer();
---

<BaseLayout assets={assets}>
  <Hero assets={assets} client:only />
  <About />
  <Guests guests={guests} />
  <TimeSchedule djSchedules={djSchedules} />
  <Contribute />
  <Staffs organizers={organizers} staffs={staffs} />
  <Contact />
</BaseLayout>
